"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[41],{7760:function(e,n,t){t.d(n,{SQ:function(){return r},vl:function(){return o},RX:function(){return a}});var r={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},o={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},a={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}},1206:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(8683),o=t(8152),a=t(2791),c=t(9271),u=t(8565),s=t(7532),i=t(2187),l=t(7760),f=t(577),g=(t(5462),t(184)),p=(0,a.lazy)((function(){return t.e(424).then(t.bind(t,6385))})),d=(0,a.lazy)((function(){return t.e(144).then(t.bind(t,9402))}));function h(){var e,n=(0,c.useHistory)(),t=(0,c.useLocation)(),h=null!==(e=new URLSearchParams(t.search).get("page"))&&void 0!==e?e:1,v=(0,a.useState)([]),k=(0,o.Z)(v,2),m=k[0],b=k[1],y=(0,a.useState)(h),_=(0,o.Z)(y,2),x=_[0],w=_[1],C=(0,a.useState)(0),O=(0,o.Z)(C,2),P=O[0],j=O[1];(0,a.useEffect)((function(){u.kl(x).then((function(e){var n=e.results,t=e.total_pages;n?(b(n),j(t)):f.Am.error("No such results!",l.vl)})).catch((function(e){f.Am.error("No images",l.vl),console.log("error on catch: ",e)}))}),[x]);var N=function(e){n.push((0,r.Z)((0,r.Z)({},t),{},{search:"page=".concat(e)}))};return(0,g.jsxs)("div",{children:[(0,g.jsxs)(a.Suspense,{fallback:(0,g.jsx)(i.Z,{}),children:[(0,g.jsx)(p,{movies:m,url:"".concat(s.MB,"/")}),m.length>1&&(0,g.jsx)(d,{onClick:function(e){var n=e.currentTarget.name;n===s.Z0&&x>1&&(w((function(e){return Number(e)-1})),N(Number(x)-1)),n===s.zb&&x!==P&&(w((function(e){return Number(e)+1})),N(Number(x)+1))},page:x,totalPages:P})]}),(0,g.jsx)(f.Ix,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:60})]})}},8565:function(e,n,t){t.d(n,{kl:function(){return g},FE:function(){return p},Y5:function(){return d},xc:function(){return h},Hx:function(){return v},IA:function(){return k}});var r=t(5861),o=t(7757),a=t.n(o),c=t(4569),u=t.n(c),s="https://api.themoviedb.org/3/",i="f6f92051b45422d9426f457ad6610127";function l(){return f.apply(this,arguments)}function f(){return f=(0,r.Z)(a().mark((function e(){var n,t,r,o,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>0&&void 0!==c[0]?c[0]:"",!(t=c.length>1&&void 0!==c[1]?c[1]:{}).hasQuery){e.next=7;break}return e.next=5,u().get(n,t);case 5:return r=e.sent,e.abrupt("return",200===r.status&&0!==r.data.results.length?r.data:Promise.reject(new Error(console.log("Not found by query"))));case 7:return e.next=9,u().get(n,t);case 9:return o=e.sent,e.abrupt("return",200===o.status?o.data:Promise.reject(new Error(console.log("Not found"))));case 11:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function g(e){return l("".concat(s,"trending/all/week?api_key=").concat(i,"&page=").concat(e))}function p(e,n){return l("".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(n,"&page=").concat(e,"&include_adult=false"),{hasQuery:!0})}function d(e){return l("".concat(s,"movie/").concat(e,"?api_key=").concat(i))}function h(e){return l("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(i))}function v(e){return l("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(i))}function k(e){var n=e.id;return l("".concat(s,"movie/").concat(n,"/videos?api_key=").concat("f6f92051b45422d9426f457ad6610127","&language=en-US"))}}}]);
//# sourceMappingURL=Home-page.900d05f6.chunk.js.map