"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[533],{983:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(184);function c(e){var n=e.content,t=e.name,c=e.type,a=e.onClick,i=e.disabled;return(0,r.jsx)("button",{type:c,name:t,onClick:a,disabled:i,className:"Button",children:n})}c.defaultProps={type:"button",onClick:function(){return null}}},6041:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(8152),c=t(2791),a=t(1523),i=t(9271),o=t(8565),s=t(7532),l=t(9192),u=t(184);function d(e){var n=e.movie,t=n.poster_path,r=n.title,c=n.vote_average,a=n.overview,i=n.genres,o=function(e){var n;e.release_date&&(n=e.release_date.slice(0,4));e.first_air_date&&(n=e.first_air_date.slice(0,4));return n}(n);return(0,u.jsxs)("div",{className:"movie-item-wrapper",children:[(0,u.jsx)("div",{className:"movie-item-image-wrapper",children:(0,u.jsx)("img",{src:t?s.xl+t:l,alt:r,className:"movie-item-image",loading:"lazy"})}),(0,u.jsxs)("ul",{className:"description",children:[(0,u.jsx)("li",{children:(0,u.jsxs)("h2",{className:"movie-item-title",children:[r," (",o,")"]})}),(0,u.jsx)("li",{children:(0,u.jsxs)("p",{children:["IMDB rating : ",c,"/10"]})}),(0,u.jsxs)("li",{children:[(0,u.jsx)("h3",{children:"Overview :"}),(0,u.jsx)("p",{className:"overview",children:a})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("h3",{children:"Genres :"}),(0,u.jsx)("ul",{children:i.map((function(e,n){return(0,u.jsx)("li",{children:e.name},n)}))})]})]})]})}var h=t(6153),f=t.n(h);function v(){return(0,u.jsx)("div",{className:"loader-box",children:(0,u.jsx)(f(),{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:12e3})})}var m=t(983);var p=function(e){var n=e.text;return(0,u.jsx)("h1",{className:"not-found-title",children:n||"404 Oops, something were wrong"})},x=t(4164),j=t(8683),g=t(5987),b=["children","onClick","className"],y=function(e){var n=e.children,t=e.onClick,r=e.className,c=(0,g.Z)(e,b);return(0,u.jsx)("button",(0,j.Z)((0,j.Z)({onClick:t,type:"button",className:r},c),{},{children:n}))};y.defaultProps={onClick:function(){return null},children:null};var w,k=y,N=["title","titleId"];function _(){return _=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_.apply(this,arguments)}function C(e,n){if(null==e)return{};var t,r,c=function(e,n){if(null==e)return{};var t,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(c[t]=e[t]);return c}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}function O(e,n){var t=e.title,r=e.titleId,a=C(e,N);return c.createElement("svg",_({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:n,"aria-labelledby":r},a),t?c.createElement("title",{id:r},t):null,w||(w=c.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var B=c.forwardRef(O),L=(t.p,document.querySelector("#root-modal"));function E(e){var n=e.onClose,t=e.children;(0,c.useEffect)((function(){function e(e){e.code===s.hY&&n()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n,t]);return(0,x.createPortal)((0,u.jsx)("div",{className:"Backdrop",onClick:function(e){e.target===e.currentTarget&&n()},children:(0,u.jsxs)("div",{className:"Modal",children:[(0,u.jsx)(k,{onClick:n,className:"CloseModal","aria-label":"Close Modal Button",children:(0,u.jsx)(B,{width:"32",height:"32"})}),t]})}),L)}t(3158);var P=(0,c.lazy)((function(){return t.e(679).then(t.bind(t,910))})),S=(0,c.lazy)((function(){return t.e(631).then(t.bind(t,6135))})),M=(0,c.lazy)((function(){return t.e(955).then(t.bind(t,8317))}));function Z(){var e=(0,c.useState)(null),n=(0,r.Z)(e,2),t=n[0],l=n[1],h=(0,c.useState)(!1),f=(0,r.Z)(h,2),x=f[0],j=f[1],g=(0,i.useParams)().slug,b=(0,i.useRouteMatch)(),y=b.url,w=b.path,k=(0,i.useLocation)(),N=(0,c.useRef)(k),_=(0,i.useHistory)(),C=g.match(/[a-z0-9]+$/)[0];function O(){j((function(e){return!e}))}return(0,c.useEffect)((function(){return o.Y5(C).then(l).catch((function(e){return console.log("error on catch MovieDetailsPage: ",e)})),function(){return l(null)}}),[C]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"button-box",children:[(0,u.jsx)(m.Z,{name:"goBack",type:"button",onClick:function(){if(N.current.state){var e=N.current.state.from,n=e.pathname,t=e.search;_.push(t?n+t:n)}else{var r=N.current.pathname.includes(s.MB)?"/".concat(s.MB):"/";_.push(r)}},content:"Back",className:"Button",disabled:!1}),(0,u.jsx)(m.Z,{name:"trailer",type:"button","data-id":C,onClick:O,content:"trailer",className:"Button",disabled:!1})]}),t?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d,{movie:t}),(0,u.jsxs)("div",{className:"details-box",children:[(0,u.jsx)(a.OL,{to:"".concat(y,"/").concat(s.lv),className:"movie-link",activeClassName:"movie-link-active",children:"Cast"}),(0,u.jsx)(a.OL,{to:"".concat(y,"/").concat(s.th),className:"movie-link",activeClassName:"movie-link-active",children:"Reviews"})]})]}):(0,u.jsx)(p,{text:"Sorry, page not found :("}),x&&(0,u.jsx)(E,{onClose:O,children:(0,u.jsx)(c.Suspense,{fallbakc:(0,u.jsx)(v,{}),children:(0,u.jsx)(M,{id:C})})}),(0,u.jsxs)(c.Suspense,{fallback:(0,u.jsx)(v,{}),children:[(0,u.jsx)(i.Route,{exact:!0,path:"".concat(w,"/").concat(s.lv),children:(0,u.jsx)(P,{})}),(0,u.jsx)(i.Route,{exact:!0,path:"".concat(w,"/").concat(s.th),children:(0,u.jsx)(S,{})})]})]})}},8565:function(e,n,t){t.d(n,{kl:function(){return h},FE:function(){return f},Y5:function(){return v},xc:function(){return m},Hx:function(){return p},IA:function(){return x}});var r=t(5861),c=t(7757),a=t.n(c),i=t(4569),o=t.n(i),s="https://api.themoviedb.org/3/",l="f6f92051b45422d9426f457ad6610127";function u(){return d.apply(this,arguments)}function d(){return d=(0,r.Z)(a().mark((function e(){var n,t,r,c,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:"",!(t=i.length>1&&void 0!==i[1]?i[1]:{}).hasQuery){e.next=7;break}return e.next=5,o().get(n,t);case 5:return r=e.sent,e.abrupt("return",200===r.status&&0!==r.data.results.length?r.data:Promise.reject(new Error(console.log("Not found by query"))));case 7:return e.next=9,o().get(n,t);case 9:return c=e.sent,e.abrupt("return",200===c.status?c.data:Promise.reject(new Error(console.log("Not found"))));case 11:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function h(e){return u("".concat(s,"trending/all/week?api_key=").concat(l,"&page=").concat(e))}function f(e,n){return u("".concat(s,"search/movie?api_key=").concat(l,"&query=").concat(n,"&page=").concat(e,"&include_adult=false"),{hasQuery:!0})}function v(e){return u("".concat(s,"movie/").concat(e,"?api_key=").concat(l))}function m(e){return u("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(l))}function p(e){return u("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(l))}function x(e){var n=e.id;return u("".concat(s,"movie/").concat(n,"/videos?api_key=").concat("f6f92051b45422d9426f457ad6610127","&language=en-US"))}},9192:function(e,n,t){e.exports=t.p+"static/media/no-poster.d96e663b3327997dcaea.png"}}]);
//# sourceMappingURL=Movie-details-page.07c56c45.chunk.js.map